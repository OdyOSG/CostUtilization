% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/CostUtilizationSettings.R
\name{createCostUtilizationSettings}
\alias{createCostUtilizationSettings}
\title{Create Cost and Utilization Settings}
\usage{
createCostUtilizationSettings(
  timeWindows = list(c(-365, 0)),
  useInCohortWindow = FALSE,
  costDomains = NULL,
  useConceptSet = NULL,
  costTypeConceptIds = NULL,
  currencyConceptId = 44818668,
  aggregate = c("pppm", "pppy"),
  standardizationData = NULL
)
}
\arguments{
\item{timeWindows}{A list of numeric vectors, where each vector has two elements:
the start and end day relative to the cohort start date.
For example, \code{list(c(-365, 0))} defines a 1-year lookback window.}

\item{useInCohortWindow}{A logical flag. If TRUE, the analysis will include the
time a person is inside the cohort (from \code{cohort_start_date} to
\code{cohort_end_date}) as a distinct analysis window.}

\item{costDomains}{A character vector of cost domains to include ('Condition', 'Drug').
This argument is ignored if \code{useConceptSet} is provided. (case independent)}

\item{useConceptSet}{An optional concept set to restrict the events used for cost and
utilization calculation. This provides fine-grained control over
which events contribute to the totals. The input can be a numeric
vector of concept IDs, a \code{Capr} object, or a standard list-based
concept set expression.}

\item{costTypeConceptIds}{A numeric vector of \code{cost_type_concept_id}s to restrict the
analysis to. If NULL, all cost types are included.}

\item{currencyConceptId}{The \code{currency_concept_id} to filter costs on. Defaults to
44818668 (US Dollar).}

\item{aggregate}{A character vector specifying the aggregation level for per-patient
metrics. The calculation is based on the total cost/utilization
divided by the total observed person-days in a window, which is then
scaled to the desired time unit. Supported options are:
\itemize{
\item{\code{'pppd'}: Per-Patient Per-Day. The base rate, calculated as total value / total observation days.}
\item{\code{'pppm'}: Per-Patient Per-Month. The per-day rate multiplied by the average days in a month (30.44).}
\item{\code{'pppq'}: Per-Patient Per-Quarter. The per-day rate multiplied by the average days in a quarter (91.31).}
\item{\code{'pppy'}: Per-Patient Per-Year. The per-day rate multiplied by the average days in a year (365.25).}
}}

\item{standardizationData}{A data frame used to standardize costs. If NULL, no
standardization is performed.}
}
\value{
An object of class \code{costUtilizationSettings}.
}
\description{
Creates a settings object for configuring a cost and healthcare resource utilization analysis.
This object is used by the \code{computeCostUtilization} function.
}
\section{Precedence Rules}{

Some arguments take precedence over others if both are provided:
\itemize{
\item \strong{\code{useConceptSet} > \code{costDomains}}: If \code{useConceptSet} is specified, it provides a
precise definition of the events to be included in the analysis. The broader \code{costDomains}
argument will be ignored, and a warning will be issued.
}
}

