% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/resultsFormat.R
\name{createCostCovariateData}
\alias{createCostCovariateData}
\title{Create FeatureExtraction CovariateData from Cost Analysis Results}
\usage{
createCostCovariateData(
  costResults,
  costOfCareSettings,
  cohortId,
  databaseId,
  analysisId = 1000L,
  aggregated = NULL,
  temporalCovariateSettings = NULL
)
}
\arguments{
\item{costResults}{List containing \code{results} and \code{diagnostics} from \code{calculateCostOfCare()}.
The \code{results} can be either:
\itemize{
\item \strong{Aggregated}: Andromeda table with columns \code{metric_type}, \code{metric_name}, \code{metric_value}
\item \strong{Non-aggregated}: Andromeda table with columns \code{person_id}, \code{cost}, \code{adjusted_cost} (optional)
}}

\item{costOfCareSettings}{Settings object from \code{createCostOfCareSettings()}.}

\item{cohortId}{Integer cohort ID for the analysis.}

\item{databaseId}{Character database identifier.}

\item{analysisId}{Integer analysis ID (default: 1000).}

\item{aggregated}{Logical indicating if results are aggregated (default: auto-detect).}

\item{temporalCovariateSettings}{Optional temporal covariate settings for time-based analysis.}
}
\value{
A \code{CovariateData} object compatible with FeatureExtraction package.
}
\description{
Converts cost analysis results from \code{calculateCostOfCare()} into standardized
FeatureExtraction \code{CovariateData} format. Handles both aggregated and non-aggregated
results from Andromeda objects returned by the database query.
}
\examples{
\dontrun{
# Basic usage with aggregated results
settings <- createCostOfCareSettings(costConceptId = 31973L)
results <- calculateCostOfCare(...)

covariateData <- createCostCovariateData(
  costResults = results,
  costOfCareSettings = settings,
  cohortId = 1,
  databaseId = "MyDatabase"
)

# Usage with non-aggregated person-level results
covariateData <- createCostCovariateData(
  costResults = results,
  costOfCareSettings = settings,
  cohortId = 1,
  databaseId = "MyDatabase",
  aggregated = FALSE
)
}
}
